{% extends './layout.html' %}

{% block title %}
<title>{{__("Sign in to system")}}</title>
{% endblock %}

{% block content %}
<form action="{{_routes.session}}" method="POST">
  <input type="hidden" name="_csrf" value="{{_csrf}}">
  <div class="auth-form-header">
    <h1>{{__("Sign in to system")}}</h1>
  </div>
  <div class="auth-form-body">
    <div class="input-wrap">
      <input type="text" name="email" id="J_email" placeholder="{{__("Email")}}">
    </div>
    <div class="input-wrap">
      <input type="password" name="password" placeholder="{{__("Password")}}">
    </div>
    {% if isTOTP %}
    <div class="input-wrap">
      <div class="input-group">
        <input class="input-group-input" type="text" name="token" autocomplete="off" placeholder="{{__("Dynamic token")}}">
        <span class="input-group-btn">
          <button class="btn send-btn" type="button" id="J_send">{{__("Send")}}</button>
        </span>
      </div>
    </div>
    {% endif %}
    {% if terms %}
    <p>
      <input id="terms" type="checkbox" value="1" name="terms">
      <label for="terms">{{__("I have read and agree to")}}</label>
      <a href="{{terms}}" target="_blank">{{__("the terms of use.")}}</a>
    </p>
    {% endif %}
    <div class="input-wrap">
      <button id="J_submit" type="submit" class="btn btn-primary btn-block">{{__("Sign In")}}</button>
    </div>
    {% if messages.error %}
    <div class="alert alert-danger" id="J_tips">{{messages.error}}</div>
    {% elseif messages.success %}
    <div class="alert alert-success" id="J_tips">{{messages.success}}</div>
    {% else %}
    <div class="alert" style="display: none;" id="J_tips"></div>
    {% endif %}
  </div>
</form>
<div class="bottom-link">
  <a href="{{_routes.password_reset}}">{{__("Lost your password?")}}</a>
</div>
<script src="{{staticRoot}}/login.js"></script>
{% endblock %}